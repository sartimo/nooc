
    TinyCC
    ======

    This file contains specific information for usage of TinyCC
    under MS-Windows.  See nooc-doc.html to have all the features.


    Installation from the binary ZIP package:
    -----------------------------------------
    Unzip the package to a directory of your choice.
    

    Set the system PATH:
    --------------------
    To be able to invoke the compiler from everywhere on your computer by
    just typing "nooc", please add the directory containing nooc.exe to your
    system PATH.


    Include and library search paths
    --------------------------------
    On windows,  the standard "include" and "lib" directories are searched
    relatively from the location of the executables (nooc.exe, libnooc.dll).


    Examples:
    ---------
    Open a console window (DOS box) and 'cd' to the examples directory.

    For the 'Fibonacci' example type:

	nooc fib.c

    For the 'Hello Windows' GUI example type:

	nooc hello_win.c

    For the 'Hello DLL' example type

	nooc -shared dll.c
	nooc -impdef dll.dll (optional)
        nooc hello_dll.c dll.def


    Using libnooc as JIT compiler in your program
    --------------------------------------------
    Check out the 'libnooc_test' example:

    - Running it from source:
        nooc -I libnooc libnooc/libnooc.def -run examples/libnooc_test.c

    - Compiling with NOOC:
        nooc examples/libnooc_test.c -I libnooc libnooc/libnooc.def

    - Compiling with MinGW:
        gcc examples/libnooc_test.c -I libnooc libnooc.dll -o libnooc_test.exe

    - Compiling with MSVC:
        lib /def:libnooc\libnooc.def /out:libnooc.lib
        cl /MD examples/libnooc_test.c -I libnooc libnooc.lib


    Import Definition Files:
    ------------------------
    To link with Windows system DLLs, NOOC uses import definition
    files (.def) instead of libraries.

    The now built-in 'tiny_impdef' program may be used to make
    additional .def files for any DLL. For example

        nooc -impdef [-v] opengl32.dll [-o opengl32.def]

    Put opengl32.def into the nooc/lib directory.  Specify -lopengl32 at
    the NOOC commandline to link a program that uses opengl32.dll.


    Header Files:
    -------------
    The system header files (except _mingw.h) are from the MinGW
    distribution:

	http://www.mingw.org/

    From the windows headers, only a minimal set is included.  If you need
    more,  get MinGW's "w32api" package.  Extract the files from "include"
    into your "nooc/include/winapi" directory.


    Resource Files:
    ---------------
    NOOC can link windows resources in coff format as generated by MinGW's
    windres.exe.  For example:

        windres -O coff app.rc -o appres.o
        nooc app.c appres.o -o app.exe


    Tiny Libmaker:
    --------------
    The now built-in tiny_libmaker tool by Timovj Lahde can be used as
    'ar' replacement to make a library from several object files:

	nooc -ar [rcsv] library objectfiles ...


    Compilation from source:
    ------------------------
    * You can use the MinGW and MSYS tools available at
        http://www.mingw.org
        http://www.mingw-w64.org
        http://www.msys2.org

      Untar the NOOC archive and type in the MSYS shell:
        ./configure [--prefix installpath]
        make
        make install

      The default install location is c:\Program Files\nooc

      Cygwin can be used too with its mingw cross-compiler installed:
        ./configure --cross-prefix=i686-w64-mingw32-
        (the prefix may vary)

    * Alternatively you can compile NOOC with just GCC from MinGW using
        > build-nooc.bat (from the win32 directory)

      Also MSVC can be used with the "VSTools Developer Command Prompt":
        > build-nooc.bat -c cl

      or with an existing nooc (needs to be in a different directory)
        > build-nooc.bat -c some-nooc-dir\nooc.exe

      Also you can copy/install everything into another directory:
        > build-nooc.bat -i <dir>

    Limitations:
    ------------
    - On the object file level, currently NOOC supports only the ELF format,
      not COFF as used by MinGW and MSVC.  It is not possible to exchange
      object files or libraries between NOOC and these compilers.

      However libraries for NOOC from objects by NOOC can be made using
        nooc -ar lib.a files.o ,,,

    - No leading underscore is generated in the ELF symbols.

    Documentation and License:
    --------------------------
    NOOC is distributed under the GNU Lesser General Public License. (See
    COPYING file or http://www.gnu.org/licenses/lgpl-2.1.html)

    TinyCC homepage is at:

	http://fabrice.bellard.free.fr/nooc/


    WinAPI Help and 3rd-party tools:
    --------------------------------
    The Windows API documentation (Win95) in a single .hlp file is
    available on the lcc-win32 site as "win32hlp.exe" or from other
    locations as "win32hlp_big.zip".

    A nice RAD tool to create windows resources (dialog boxes etc.) is
    "ResEd", available at the RadASM website.


    --- grischka
